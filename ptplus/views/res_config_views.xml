<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="res_config_settings_view_form_pt" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.pt</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="account.res_config_settings_view_form" />
        <field name="arch" type="xml">
            <xpath expr="//block[@id='analytic']" position="after">
                <block title="Portugal" id="account_settings_pt">
                    <field name="l10n_pt_has_accounting_entries" invisible="1" />
                    <setting
                        id="enable_pt_invoicing"
                        company_dependent="1"
                        help="Issue legally accepted Portuguese invoices"
                        title="If this checkbox is ticked, all the features and rules associated with Portuguese Invoicing will be active. You won't be able to revert to False once a fiscal document is validated."
                    >
                        <field
                            name="pt_invoicing"
                            readonly="l10n_pt_has_accounting_entries"
                        />
                    </setting>

                    <setting
                        id="enable_l10n_pt_cert_service_backend"
                        company_dependent="1"
                        help="Backend plug-in needed for fiscal document validation"
                        invisible="not pt_invoicing"
                    >
                        <field
                            name="l10n_pt_cert_service_backend"
                            readonly="l10n_pt_has_accounting_entries"
                        />
                    </setting>

                    <setting
                        id="enable_l10n_multiway_tag"
                        company_dependent="1"
                        help="Tags to differentiate document copies"
                        title="These tags will be printed on every multi-way document report copy. The choice also sets the number of desired copies."
                        string="Multi-way Report"
                        invisible="not pt_invoicing"
                    >
                        <div class="row mt16">
                            <label
                                string="Invoice"
                                for="multiway_tag_invoice"
                                class="col-lg-3 o_light_label"
                            />
                            <field name="multiway_tag_invoice" />
                        </div>
                        <div class="row">
                            <label
                                string="Receipt"
                                for="multiway_tag_payment"
                                class="col-lg-3 o_light_label"
                            />
                            <field name="multiway_tag_payment" />
                        </div>
                    </setting>

                    <setting
                        id="enable_pt_qrcode_pos"
                        company_dependent="1"
                        help="Choose where do you want the QR code to be printed on fiscal document reports"
                        invisible="not pt_invoicing"
                    >
                        <field name="pt_qrcode_pos" />
                    </setting>

                    <setting
                        id="enable_l10n_pt_invoice_details"
                        company_dependent="1"
                        help="Fine tune your invoice statements, texts and options"
                        string="Invoice Details"
                        invisible="not pt_invoicing"
                    >
                        <div class="mt16 text-muted">
                            <div>
                                <field name="l10n_pt_invoice_show_goods_provision" />
                                <label for="l10n_pt_invoice_show_goods_provision" />
                            </div>
                            <div>
                                <field name="l10n_pt_invoice_as_delivery" />
                                <label for="l10n_pt_invoice_as_delivery" />
                            </div>
                            <div
                                class="row ml8"
                                invisible="not l10n_pt_invoice_as_delivery"
                            >
                                <label
                                    string="Load. Addr."
                                    for="l10n_pt_loading_partner_id"
                                />
                                <field name="l10n_pt_loading_partner_id" />
                            </div>
                        </div>
                    </setting>

                    <setting
                        id="enable_l10n_pt_einvoicing"
                        company_dependent="1"
                        help="Generate and submit CIUS-PT electronic invoices"
                        invisible="not pt_invoicing"
                    >
                        <field name="module_ptplus_edi" />
                    </setting>

                    <setting
                        id="l10n_pt_subscription_code"
                        invisible="not pt_invoicing"
                        string="Subscription Code"
                    >
                        <div class="row mt16">
                            <button title="Key" icon="fa-key" class="col-lg-1" />
                            <field
                                name="l10n_pt_ptplus_subscription_code"
                                required="pt_invoicing"
                            />
                        </div>
                    </setting>

                    <setting
                        id="l10n_pt_show_source_billing"
                        invisible="not pt_invoicing"
                        string="Show Source Billing"
                        company_dependent="1"
                        help="Show Source Billing field on fiscal documents"
                    >
                        <field name="l10n_pt_show_source_billing" />
                    </setting>
                </block>
            </xpath>
        </field>
    </record>
</odoo>
