<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!-- Chart of Account Tree adaptation related -->
    <record id="view_account_form_pt" model="ir.ui.view">
        <field name="name">account.account.form.pt</field>
        <field name="model">account.account</field>
        <field name="inherit_id" ref="account.view_account_form" />
        <field name="arch" type="xml">
            <page name="accounting" position="after">
                <field name="country_code" invisible="1" />
                <page
                    name="taxonomy"
                    string="Taxonomy"
                    attrs="{'invisible': [('country_code', '!=', 'PT')]}"
                >
                    <group>
                        <group>
                            <field
                                name="l10n_pt_taxonomy_id"
                                options="{'no_create': True}"
                                attrs="{'invisible': [('l10n_pt_is_virtual', '=', True)]}"
                            />
                            <field name="l10n_pt_svat_class" />
                            <field name="l10n_pt_expected_balance" />
                        </group>
                    </group>
                </page>
            </page>
            <field name="deprecated" position="before">
                <field name="l10n_pt_is_virtual" />
            </field>
        </field>
    </record>

    <record id="view_account_list_pt" model="ir.ui.view">
        <field name="name">account.account.list.pt</field>
        <field name="model">account.account</field>
        <field name="inherit_id" ref="account.view_account_list" />
        <field name="arch" type="xml">
            <field name="reconcile" position="after">
                <field name="l10n_pt_is_virtual" invisible="1" />
                <field
                    name="l10n_pt_taxonomy_id"
                    options="{'no_create': True}"
                    optional="hide"
                    attrs="{'invisible': [('l10n_pt_is_virtual','=', True)]}"
                    context="{'acc_id': id}"
                />
            </field>
        </field>
    </record>

</odoo>
